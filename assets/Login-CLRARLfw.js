import{u as p,a as g,y as u,l as x,b as f,p as y,c as b,d as I,r as w,j as e,N as v,F as h,I as m,O as j,T as d,e as A,f as C,V as S,g as k,B as z,A as L,h as D,i as F,G as s,L as B,k as E,S as O,D as W}from"./index-jX8MlIS8.js";import{A as M,a as T}from"./AuthCardWrapper-DSAKwd_w.js";const V=()=>{const r=p(),{register:i,handleSubmit:t,formState:{errors:a}}=g(),c=t(n=>{console.log("Datos del login:",n),u.success("Ingreso exitoso"),r(x({token:"TOKEN_MOCK"}))});return f({mutationFn:y,onSuccess:n=>{u.success("Ingreso exitoso"),r(x({token:n==null?void 0:n.token}))},onError:()=>u.error("Verifique las credenciales por favor")}),{onSubmit:c,register:i,errors:a}};function q(){const r=b(l=>l.auth),i=I(),[t,a]=w.useState(!1),{onSubmit:c,register:n,errors:o}=V();return r!=null&&r.token?e.jsx(v,{to:"/",replace:!0}):e.jsxs("form",{onSubmit:c,children:[e.jsxs(h,{fullWidth:!0,sx:{...i.typography.customInput},children:[e.jsx(m,{htmlFor:"username",children:"Usuario"}),e.jsx(j,{id:"username",label:"Usuario",...n("username",{required:"El nombre de usuario es obligatorio"})}),o.username&&e.jsx(d,{color:"error",variant:"caption",children:o.username.message})]}),e.jsxs(h,{fullWidth:!0,sx:{...i.typography.customInput},children:[e.jsx(m,{htmlFor:"password",children:"Contraseña"}),e.jsx(j,{id:"password",type:t?"text":"password",label:"Contraseña",...n("password",{required:"La contraseña es obligatoria"}),endAdornment:e.jsx(A,{position:"end",children:e.jsx(C,{"aria-label":"mostrar/ocultar contraseña",onClick:()=>a(!t),onMouseDown:l=>l.preventDefault(),edge:"end",size:"large",children:t?e.jsx(S,{}):e.jsx(k,{})})})}),o.password&&e.jsx(d,{color:"error",variant:"caption",children:o.password.message})]}),e.jsx(z,{sx:{mt:2},children:e.jsx(L,{children:e.jsx(D,{color:"secondary",fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Iniciar sesión"})})})]})}function H(){return F(r=>r.breakpoints.down("md")),e.jsx(M,{children:e.jsxs(s,{container:!0,direction:"column",sx:{justifyContent:"flex-end",minHeight:"100vh"},children:[e.jsx(s,{size:12,children:e.jsx(s,{container:!0,sx:{justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 68px)"},children:e.jsx(s,{sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(T,{children:e.jsxs(s,{container:!0,spacing:2,sx:{alignItems:"center",justifyContent:"center"},children:[e.jsx(s,{sx:{mb:3},children:e.jsx(B,{to:"#","aria-label":"logo",children:e.jsx(E,{})})}),e.jsx(s,{size:12,children:e.jsx(s,{container:!0,direction:{xs:"column-reverse",md:"row"},sx:{alignItems:"center",justifyContent:"center"},children:e.jsx(s,{children:e.jsx(O,{spacing:1,sx:{alignItems:"center",justifyContent:"center"},children:e.jsx(d,{variant:"caption",sx:{fontSize:"16px",textAlign:{xs:"center",md:"inherit"}},children:"Ingrese sus credenciales"})})})})}),e.jsx(s,{size:12,children:e.jsx(q,{})}),e.jsx(s,{size:12,children:e.jsx(W,{})}),e.jsx(s,{size:12})]})})})})}),e.jsx(s,{sx:{px:3,my:3},size:12})]})})}export{H as default};
