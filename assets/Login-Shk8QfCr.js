import{u as b,a as I,y as u,l as h,b as v,p as w,c as C,d as A,e as S,r as k,j as e,N as z,F as m,I as j,O as p,T as d,f as L,g as D,V as F,h as W,B,A as g,i as f,D as y,k as E,G as s,L as O,m as M,S as N}from"./index-DoAxHfkR.js";import{A as T,a as V}from"./AuthCardWrapper-BzSjzqs2.js";const q=()=>{const r=b(),{register:i,handleSubmit:a,formState:{errors:t}}=I(),c=a(n=>{console.log("Datos del login:",n),u.success("Ingreso exitoso"),r(h({token:"TOKEN_MOCK"}))});return v({mutationFn:w,onSuccess:n=>{u.success("Ingreso exitoso"),r(h({token:n==null?void 0:n.token}))},onError:()=>u.error("Verifique las credenciales por favor")}),{onSubmit:c,register:i,errors:t}};function G(){const r=C(l=>l.auth),i=A(),a=S(),[t,c]=k.useState(!1),{onSubmit:n,register:x,errors:o}=q();return r!=null&&r.token?e.jsx(z,{to:"/",replace:!0}):e.jsxs("form",{onSubmit:n,children:[e.jsxs(m,{fullWidth:!0,sx:{...i.typography.customInput},children:[e.jsx(j,{htmlFor:"username",children:"Usuario"}),e.jsx(p,{id:"username",label:"Usuario",...x("username",{required:"El nombre de usuario es obligatorio"})}),o.username&&e.jsx(d,{color:"error",variant:"caption",children:o.username.message})]}),e.jsxs(m,{fullWidth:!0,sx:{...i.typography.customInput},children:[e.jsx(j,{htmlFor:"password",children:"Contraseña"}),e.jsx(p,{id:"password",type:t?"text":"password",label:"Contraseña",...x("password",{required:"La contraseña es obligatoria"}),endAdornment:e.jsx(L,{position:"end",children:e.jsx(D,{"aria-label":"mostrar/ocultar contraseña",onClick:()=>c(!t),onMouseDown:l=>l.preventDefault(),edge:"end",size:"large",children:t?e.jsx(F,{}):e.jsx(W,{})})})}),o.password&&e.jsx(d,{color:"error",variant:"caption",children:o.password.message})]}),e.jsxs(B,{sx:{mt:2},children:[e.jsx(g,{children:e.jsx(f,{color:"secondary",fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Iniciar sesión"})}),e.jsx(y,{sx:{my:2}}),e.jsx(g,{children:e.jsx(f,{onClick:()=>a("/form-register"),color:"secondary",fullWidth:!0,size:"large",variant:"contained",children:"Ir al formulario"})})]})]})}function P(){return E(r=>r.breakpoints.down("md")),e.jsx(T,{children:e.jsxs(s,{container:!0,direction:"column",sx:{justifyContent:"flex-end",minHeight:"100vh"},children:[e.jsx(s,{size:12,children:e.jsx(s,{container:!0,sx:{justifyContent:"center",alignItems:"center",minHeight:"calc(100vh - 68px)"},children:e.jsx(s,{sx:{m:{xs:1,sm:3},mb:0},children:e.jsx(V,{children:e.jsxs(s,{container:!0,spacing:2,sx:{alignItems:"center",justifyContent:"center"},children:[e.jsx(s,{sx:{mb:3},children:e.jsx(O,{to:"#","aria-label":"logo",children:e.jsx(M,{})})}),e.jsx(s,{size:12,children:e.jsx(s,{container:!0,direction:{xs:"column-reverse",md:"row"},sx:{alignItems:"center",justifyContent:"center"},children:e.jsx(s,{children:e.jsx(N,{spacing:1,sx:{alignItems:"center",justifyContent:"center"},children:e.jsx(d,{variant:"caption",sx:{fontSize:"16px",textAlign:{xs:"center",md:"inherit"}},children:"Ingrese sus credenciales"})})})})}),e.jsx(s,{size:12,children:e.jsx(G,{})}),e.jsx(s,{size:12,children:e.jsx(y,{})}),e.jsx(s,{size:12})]})})})})}),e.jsx(s,{sx:{px:3,my:3},size:12})]})})}export{P as default};
